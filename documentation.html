
	<html>
		<head>
			<title>Transactional Documentation</title>
			<style>
				.module-header, .module-description {
					background-color: #EFEFEF;
				}

				.function-description {
					background-color: #DDD;
				}

				.module-header {
					border: 1px solid;
					border-radius: 5px;
					padding: 10px;
					margin: 10px 0 10px 0;
				}
				.module-name {
					font-weight: bold;
				}
				.module-description .module-name {
					font-size: 120%;
				}
				ul.module-functions {
					list-style: none;
				}
				.module-description {
					border: 1px solid;
					border-radius: 5px;
					padding: 10px;
					margin: 10px 0 10px 0;
				}
				.module-name, .module-author,
				.module-date {
					margin: 2px 0 2px 0;
				}
				.module-desc {
					margin: 10px 0 10px 20px;
				}

				.function-description {
					backgound-color: #EFEFEF;
					border: 1px dotted;
					border-radius: 5px;
					padding: 10px;
					margin: 5px 0 5px 0;
				}

				.function-desc {
					margin: 5px 0 5px 20px;
				}

				a:visited {
					color: #00F
				}

				a {
					text-decoration: none;
					border-bottom: 1px solid transparent;
					transition: all ease-in-out 0.5s;
				}

				a:hover {
					text-decoration: none;
					border-color: #00F;
				}

				.top-scroll {
					position: fixed;
					bottom: 0;
					right: 10px;
					font-weight: bold;
					font-size: 180%;
					border: 1px solid;
					border-radius: 5px;
					padding: 10px 20px;
					background-color: #EFEFEF;
					opacity: 0.8;
					cursor: pointer;
				}
			</style>
			<script type="text/javascript">
				window.onload = function() {
					var links = document.querySelectorAll('a');
					links.forEach(link => link.addEventListener('click', function(e) {
						e.preventDefault();
						var elm = this.href.substring(this.href.indexOf('#') + 1);
						scrollToItemId(elm, 2);
					}));

					document.querySelector('.top-scroll').addEventListener('click', function() {
						scrollToItemId('top', 2);
					});

					window.onscroll();
				}

				window.onscroll = function() {
					document.querySelector('.top-scroll').style.visibility = 
						document.body.scrollTop > 100 ? 'visible' : 'hidden';
				}

				function scrollToItemId(scrollToId, scrollTime) {
					scrollTime *= 1000;
			        var item = document.getElementById(scrollToId);

			        var from = document.body.scrollTop;
			        var to = item.offsetTop;

			        var startTime = Date.now();

				    function ease(k) {
				    	return 0.5 * (1 - Math.cos(Math.PI * k));
				    }

			        (function scroll() {
			        	var elapsed = (Date.now() - startTime) / scrollTime;
			        	if (elapsed > 1)
			        		elapsed = 1;
			        	var change = ease(elapsed);
			        	var currentPos = from + (to - from) * change;

			            document.body.scrollTop = currentPos;
			            if (currentPos !== to) {
			                requestAnimationFrame(scroll);
			            }
			            else {
			            	window.location.hash = '#' + scrollToId;
			            }
			        })();
			    }
			</script>
		</head>
		<body>
			<div class="project-header" id="top">
			<h1>Transactional Documentation</h1>
			</div>
			<div class="project-synopsis">
			<h2>Module List</h2>
			
		<div class="module-header">
			<div class="module-name">
			Module: <a href="#doc.module.Transactional.DBHManager">Transactional.DBHManager</a>
			</div>
			<ul class="module-functions">
				
			<li>
				<a href="#doc.module.Transactional.DBHManager.func.new">
					<b>new</b>
				</a> <b>::</b> DriverFuncs &#8594; (IDBH &#8594; IDBH) &#8594; DBHManager
			</li>
		
			<li>
				<a href="#doc.module.Transactional.DBHManager.func.createConnection">
					<b>createConnection</b>
				</a> <b>::</b> DBHManager &#8594; Promise RecordMapper DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.DBHManager.func.getConnection">
					<b>getConnection</b>
				</a> <b>::</b> DBHManager &#8594; Promise RecordMapper DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.DBHManager.func.runTransaction">
					<b>runTransaction</b>
				</a> <b>::</b> DBHManager &#8594; Transaction DBError Any &#8594; Promise Any DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.DBHManager.func.close">
					<b>close</b>
				</a> <b>::</b> DBHManager &#8594; ()
			</li>
		
			<li>
				<a href="#doc.module.Transactional.DBHManager.func.createMapper">
					<b>createMapper</b>
				</a> <b>::</b> IDBH &#8594; RecordMapper
			</li>
		
			<li>
				<a href="#doc.module.Transactional.DBHManager.func.createPooled">
					<b>createPooled</b>
				</a> <b>::</b> DBHManager &#8594; (IDBH &#8594; RecordMapper) &#8594; RecordMapper
			</li>
		
			</ul>
		</div>
	
		<div class="module-header">
			<div class="module-name">
			Module: <a href="#doc.module.Transactional.LogDBH">Transactional.LogDBH</a>
			</div>
			<ul class="module-functions">
				
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.new">
					<b>new</b>
				</a> <b>::</b> IDBH &#8594; Media &#8594; ()
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.beginTransaction">
					<b>beginTransaction</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.commit">
					<b>commit</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.rollback">
					<b>rollback</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.prepare">
					<b>prepare</b>
				</a> <b>::</b> IDBH &#8594; String &#8594; Promise IStatement ([Object] | int | ())
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.status$">
					<b>status$</b>
				</a> <b>::</b> IDBH &#8594; Observable DBStatus DBFatalError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.connect">
					<b>connect</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.close">
					<b>close</b>
				</a> <b>::</b> IDBH &#8594; ()
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.replaceParameters">
					<b>replaceParameters</b>
				</a> <b>::</b> string &#8594; ...any &#8594; string
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.makeWrapper">
					<b>makeWrapper</b>
				</a> <b>::</b> string &#8594; Media &#8594; (IStatement &#8594; IStatement)
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.makeStmt">
					<b>makeStmt</b>
				</a> <b>::</b> IStatement &#8594; IStatement
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.ConsoleMedia">
					<b>ConsoleMedia</b>
				</a> <b>::</b> () &#8594; Media
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.ListMedia">
					<b>ListMedia</b>
				</a> <b>::</b> () &#8594; Media
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.FileMedia">
					<b>FileMedia</b>
				</a> <b>::</b> string &#8594; Media
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.MultiMedia">
					<b>MultiMedia</b>
				</a> <b>::</b> [Media] &#8594; Media
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.makeLogger">
					<b>makeLogger</b>
				</a> <b>::</b> Media &#8594; (IDBH &#8594; IDBH)
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.log">
					<b>log</b>
				</a> <b>::</b> IDBH &#8594; IDBH
			</li>
		
			<li>
				<a href="#doc.module.Transactional.LogDBH.func.nolog">
					<b>nolog</b>
				</a> <b>::</b> IDBH &#8594; IDBH
			</li>
		
			</ul>
		</div>
	
		<div class="module-header">
			<div class="module-name">
			Module: <a href="#doc.module.Transactional.PooledDBH">Transactional.PooledDBH</a>
			</div>
			<ul class="module-functions">
				
			<li>
				<a href="#doc.module.Transactional.PooledDBH.func.new">
					<b>new</b>
				</a> <b>::</b> IDBH &#8594; PooledDBH
			</li>
		
			<li>
				<a href="#doc.module.Transactional.PooledDBH.func.beginTransaction">
					<b>beginTransaction</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.PooledDBH.func.commit">
					<b>commit</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.PooledDBH.func.rollback">
					<b>rollback</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.PooledDBH.func.prepare">
					<b>prepare</b>
				</a> <b>::</b> IDBH &#8594; String &#8594; Promise IStatement ([Object] | int | ())
			</li>
		
			<li>
				<a href="#doc.module.Transactional.PooledDBH.func.status$">
					<b>status$</b>
				</a> <b>::</b> IDBH &#8594; Observable DBStatus DBFatalError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.PooledDBH.func.connect">
					<b>connect</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.PooledDBH.func.close">
					<b>close</b>
				</a> <b>::</b> IDBH &#8594; ()
			</li>
		
			</ul>
		</div>
	
		<div class="module-header">
			<div class="module-name">
			Module: <a href="#doc.module.Transactional.RecordMapper">Transactional.RecordMapper</a>
			</div>
			<ul class="module-functions">
				
			<li>
				<a href="#doc.module.Transactional.RecordMapper.func.new">
					<b>new</b>
				</a> <b>::</b> IDBH &#8594; RecordMapper
			</li>
		
			<li>
				<a href="#doc.module.Transactional.RecordMapper.func.insert">
					<b>insert</b>
				</a> <b>::</b> RecordMapper &#8594; string &#8594; Map string any &#8594; Promise int DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.RecordMapper.func.update">
					<b>update</b>
				</a> <b>::</b> RecordMapper &#8594; string &#8594; Map string any &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.RecordMapper.func.delete">
					<b>delete</b>
				</a> <b>::</b> RecordMapper &#8594; string &#8594; (Map string any) | int &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.RecordMapper.func.read">
					<b>read</b>
				</a> <b>::</b> RecordMapper &#8594; String &#8594; int &#8594; Promise (Maybe (Map string any)) DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.RecordMapper.func.query">
					<b>query</b>
				</a> <b>::</b> RecordMapper &#8594; string &#8594; ...any &#8594; Promise ([Object] | int | ()) DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.RecordMapper.func.beginTransaction">
					<b>beginTransaction</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.RecordMapper.func.commit">
					<b>commit</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.RecordMapper.func.rollback">
					<b>rollback</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.RecordMapper.func.prepare">
					<b>prepare</b>
				</a> <b>::</b> IDBH &#8594; String &#8594; Promise IStatement ([Object] | int | ())
			</li>
		
			<li>
				<a href="#doc.module.Transactional.RecordMapper.func.status$">
					<b>status$</b>
				</a> <b>::</b> IDBH &#8594; Observable DBStatus DBFatalError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.RecordMapper.func.connect">
					<b>connect</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.RecordMapper.func.close">
					<b>close</b>
				</a> <b>::</b> IDBH &#8594; ()
			</li>
		
			</ul>
		</div>
	
		<div class="module-header">
			<div class="module-name">
			Module: <a href="#doc.module.Transactional.Transaction">Transactional.Transaction</a>
			</div>
			<ul class="module-functions">
				
			<li>
				<a href="#doc.module.Transactional.Transaction.func.query">
					<b>query</b>
				</a> <b>::</b> string &#8594; ...any &#8594; Transaction ([Object] | int | ())
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.insert">
					<b>insert</b>
				</a> <b>::</b> string &#8594; Map string any &#8594; Transaction int
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.update">
					<b>update</b>
				</a> <b>::</b> string &#8594; Map string any &#8594; Transaction ()
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.delete">
					<b>delete</b>
				</a> <b>::</b> string &#8594; Map string any | int &#8594; Transaction ()
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.read">
					<b>read</b>
				</a> <b>::</b> string &#8594; int &#8594; Transaction (Maybe (Map string any))
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.prepare">
					<b>prepare</b>
				</a> <b>::</b> string &#8594; Transaction IStatement
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.execute">
					<b>execute</b>
				</a> <b>::</b> IStatement &#8594; ...any &#8594; Transaction ([Object] | int | ())
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.throwE">
					<b>throwE</b>
				</a> <b>::</b> Error &#8594; Transaction ()
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.emit">
					<b>emit</b>
				</a> <b>::</b> string &#8594; Object &#8594; Transaction ()
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.liftPromise">
					<b>liftPromise</b>
				</a> <b>::</b> Promise a () &#8594; Transaction a
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.skip">
					<b>skip</b>
				</a> <b>::</b> () &#8594; Transaction ()
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.continue">
					<b>continue</b>
				</a> <b>::</b> Transaction a &#8594; Transaction a
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.unit">
					<b>unit</b>
				</a> <b>::</b> a &#8594; Transaction a
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.show">
					<b>show</b>
				</a> <b>::</b> Transaction a &#8594; IRetrieve &#8594; String
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.interpret">
					<b>interpret</b>
				</a> <b>::</b> IDBH &#8594; Transaction a &#8594; [Object] &#8594; Promise a DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.runTransaction">
					<b>runTransaction</b>
				</a> <b>::</b> IDBH &#8594; IBus &#8594; Transaction a &#8594; Promise a DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.runWith">
					<b>runWith</b>
				</a> <b>::</b> DBHManager &#8594; IBus &#8594; Transaction a &#8594; Promise a DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.Transaction.func.maybeSkip">
					<b>maybeSkip</b>
				</a> <b>::</b> Transaction (Maybe a) &#8594; Transaction a
			</li>
		
			</ul>
		</div>
	
		<div class="module-header">
			<div class="module-name">
			Module: <a href="#doc.module.Transactional">Transactional</a>
			</div>
			<ul class="module-functions">
				
			<li>
				<a href="#doc.module.Transactional.func.drivers">
					<b>drivers</b>
				</a> <b>::</b> Map String (int &#8594; Object &#8594; DriverFuncs)
			</li>
		
			<li>
				<a href="#doc.module.Transactional.func.register">
					<b>register</b>
				</a> <b>::</b> String &#8594; (int &#8594; Object &#8594; DriverFuncs) &#8594; ()
			</li>
		
			<li>
				<a href="#doc.module.Transactional.func.create">
					<b>create</b>
				</a> <b>::</b> String &#8594; int &#8594; Object &#8594; (IDBH &#8594; IDBH) &#8594; DBHManager
			</li>
		
			</ul>
		</div>
	
		<div class="module-header">
			<div class="module-name">
			Module: <a href="#doc.module.Transactional.IBus">Transactional.IBus</a>
			</div>
			<ul class="module-functions">
				
			<li>
				<a href="#doc.module.Transactional.IBus.func.publish">
					<b>publish</b>
				</a> <b>::</b> IBus &#8594; String &#8594; Object &#8594; ()
			</li>
		
			</ul>
		</div>
	
		<div class="module-header">
			<div class="module-name">
			Module: <a href="#doc.module.Transactional.IDBH">Transactional.IDBH</a>
			</div>
			<ul class="module-functions">
				
			<li>
				<a href="#doc.module.Transactional.IDBH.func.beginTransaction">
					<b>beginTransaction</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.IDBH.func.commit">
					<b>commit</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.IDBH.func.rollback">
					<b>rollback</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.IDBH.func.prepare">
					<b>prepare</b>
				</a> <b>::</b> IDBH &#8594; String &#8594; Promise IStatement ([Object] | int | ())
			</li>
		
			<li>
				<a href="#doc.module.Transactional.IDBH.func.status$">
					<b>status$</b>
				</a> <b>::</b> IDBH &#8594; Observable DBStatus DBFatalError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.IDBH.func.connect">
					<b>connect</b>
				</a> <b>::</b> IDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.IDBH.func.close">
					<b>close</b>
				</a> <b>::</b> IDBH &#8594; ()
			</li>
		
			</ul>
		</div>
	
		<div class="module-header">
			<div class="module-name">
			Module: <a href="#doc.module.Transactional.IStatement">Transactional.IStatement</a>
			</div>
			<ul class="module-functions">
				
			<li>
				<a href="#doc.module.Transactional.IStatement.func.execute">
					<b>execute</b>
				</a> <b>::</b> IStatement ([Object] | int | ()) &#8594; ...any &#8594; Promise ([Object] | int | ()) DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.IStatement.func.destroy">
					<b>destroy</b>
				</a> <b>::</b> IStatement ([Object] | int | ()) &#8594; ()
			</li>
		
			</ul>
		</div>
	
		<div class="module-header">
			<div class="module-name">
			Module: <a href="#doc.module.Transactional.MySQLDBH">Transactional.MySQLDBH</a>
			</div>
			<ul class="module-functions">
				
			<li>
				<a href="#doc.module.Transactional.MySQLDBH.func.new">
					<b>new</b>
				</a> <b>::</b> NodeMySQLConnection &#8594; MySQLDBH
			</li>
		
			<li>
				<a href="#doc.module.Transactional.MySQLDBH.func.beginTransaction">
					<b>beginTransaction</b>
				</a> <b>::</b> MySQLDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.MySQLDBH.func.commit">
					<b>commit</b>
				</a> <b>::</b> MySQLDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.MySQLDBH.func.rollback">
					<b>rollback</b>
				</a> <b>::</b> MySQLDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.MySQLDBH.func.prepare">
					<b>prepare</b>
				</a> <b>::</b> MySQLDBH &#8594; String &#8594; Promise IStatement ([Object] | int | ())
			</li>
		
			<li>
				<a href="#doc.module.Transactional.MySQLDBH.func.status$">
					<b>status$</b>
				</a> <b>::</b> MySQLDBH &#8594; Observable DBStatus DBFatalError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.MySQLDBH.func.connect">
					<b>connect</b>
				</a> <b>::</b> MySQLDBH &#8594; Promise () DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.MySQLDBH.func.close">
					<b>close</b>
				</a> <b>::</b> MySQLDBH &#8594; ()
			</li>
		
			<li>
				<a href="#doc.module.Transactional.MySQLDBH.func.createManager">
					<b>createManager</b>
				</a> <b>::</b> int &#8594; node-mysqlOptions &#8594; DriverFuncs
			</li>
		
			</ul>
		</div>
	
		<div class="module-header">
			<div class="module-name">
			Module: <a href="#doc.module.Transactional.MySQLStatement">Transactional.MySQLStatement</a>
			</div>
			<ul class="module-functions">
				
			<li>
				<a href="#doc.module.Transactional.MySQLStatement.func.mapper">
					<b>mapper</b>
				</a> <b>::</b> Map string (DBResult &#8594; [Object] | int | ())
			</li>
		
			<li>
				<a href="#doc.module.Transactional.MySQLStatement.func.new">
					<b>new</b>
				</a> <b>::</b> NodeMySQLConnection &#8594; string &#8594; MySQLStatement ([Object] | int | ())
			</li>
		
			<li>
				<a href="#doc.module.Transactional.MySQLStatement.func.execute">
					<b>execute</b>
				</a> <b>::</b> MySQLStatement ([Object] | int | ()) &#8594; ...any &#8594; Promise ([Object] | int | ()) DBError
			</li>
		
			<li>
				<a href="#doc.module.Transactional.MySQLStatement.func.destroy">
					<b>destroy</b>
				</a> <b>::</b> IStatement ([Object] | int | ()) &#8594; ()
			</li>
		
			</ul>
		</div>
	
			</div>
			<div class="project-description">
			<h2>Module Description</h2>
			
		<div class="module-description" id="doc.module.Transactional.DBHManager">
			<div class="module-name">
				Module: Transactional.DBHManager
			</div>
			<div class="module-author">
			<b>Written By:</b> Joel Dentici
			</div>
			<div class="module-date">
			<b>Written On:</b> 6/20/2017
			</div>
			<div class="module-desc">
			Provides methods to manage a set of connections
to a database, including creating connections,
retrieving a connection from a pool, and performing
an atomic transaction with a connection retrieved from
the pool.<br><br>Does not provide pooling capabilities on its own. It instead
relies on provided functions to interact with the pool. May
provide a default pool implementation at some point.
			</div>
			<div class="module-functions">
				
			<div class="function-description"
			id="doc.module.Transactional.DBHManager.func.new">
				<div class="function-name">
					<b>new</b> <b>::</b> DriverFuncs &#8594; (IDBH &#8594; IDBH) &#8594; DBHManager
				</div>
				<div class="function-desc">
					
Constructs a new DBHManager with the
provided functions to create connections,
get connections from a connection pool,
and to return connections to the pool, and shutdown
the pool.<br><br>createLogger (possibly) wraps a connection in a logger<br><br>The provided functions must take and return
IDBH implementations.<br><br>toPool is guaranteed to receive the same type of IDBH that
fromPool provides.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.DBHManager.func.createConnection">
				<div class="function-name">
					<b>createConnection</b> <b>::</b> DBHManager &#8594; Promise RecordMapper DBError
				</div>
				<div class="function-desc">
					
Creates a new connection that is
not from the connection pool. A promise
for the connection is returned. You are responsible for closing
the connection.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.DBHManager.func.getConnection">
				<div class="function-name">
					<b>getConnection</b> <b>::</b> DBHManager &#8594; Promise RecordMapper DBError
				</div>
				<div class="function-desc">
					
Returns a promise for a connection
from the connection pool. The connection is
already open.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.DBHManager.func.runTransaction">
				<div class="function-name">
					<b>runTransaction</b> <b>::</b> DBHManager &#8594; Transaction DBError Any &#8594; Promise Any DBError
				</div>
				<div class="function-desc">
					
Gets a connection from the connection pool,
runs the provided transaction monad with it,
and then closes the transaction. Returns a promise
for the result of executing the transaction.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.DBHManager.func.close">
				<div class="function-name">
					<b>close</b> <b>::</b> DBHManager &#8594; ()
				</div>
				<div class="function-desc">
					
Closes the connection pool. After calling this method,
the object should no longer be used.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.DBHManager.func.createMapper">
				<div class="function-name">
					<b>createMapper</b> <b>::</b> IDBH &#8594; RecordMapper
				</div>
				<div class="function-desc">
					
Wraps a connection in a record mapper.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.DBHManager.func.createPooled">
				<div class="function-name">
					<b>createPooled</b> <b>::</b> DBHManager &#8594; (IDBH &#8594; RecordMapper) &#8594; RecordMapper
				</div>
				<div class="function-desc">
					
Wraps a connection in a pooled connection,
then wraps that in a record mapper to provide
additional functionality.
				</div>
			</div>
		
			</div>
		</div>
	
		<div class="module-description" id="doc.module.Transactional.LogDBH">
			<div class="module-name">
				Module: Transactional.LogDBH
			</div>
			<div class="module-author">
			<b>Written By:</b> Joel Dentici
			</div>
			<div class="module-date">
			<b>Written On:</b> 6/20/2017
			</div>
			<div class="module-desc">
			Adds logging to connections, so that the queries ran
on them are written to some medium.
			</div>
			<div class="module-functions">
				
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.new">
				<div class="function-name">
					<b>new</b> <b>::</b> IDBH &#8594; Media &#8594; ()
				</div>
				<div class="function-desc">
					
Constructs a new IDBH that writes queries to
some media before calling the same methods on
the base connection.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.beginTransaction">
				<div class="function-name">
					<b>beginTransaction</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Begins a transaction on the base IDBH.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.commit">
				<div class="function-name">
					<b>commit</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Commits the transaction on the base IDBH
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.rollback">
				<div class="function-name">
					<b>rollback</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Rolls back the transaction on the base IDBH
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.prepare">
				<div class="function-name">
					<b>prepare</b> <b>::</b> IDBH &#8594; String &#8594; Promise IStatement ([Object] | int | ())
				</div>
				<div class="function-desc">
					
Prepares a statement on the base IDBH.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.status$">
				<div class="function-name">
					<b>status$</b> <b>::</b> IDBH &#8594; Observable DBStatus DBFatalError
				</div>
				<div class="function-desc">
					
Returns a stream of status events for both the pooled
connection and underlying IDBH.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.connect">
				<div class="function-name">
					<b>connect</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Connects the base IDBH.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.close">
				<div class="function-name">
					<b>close</b> <b>::</b> IDBH &#8594; ()
				</div>
				<div class="function-desc">
					
Closes the base connection.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.replaceParameters">
				<div class="function-name">
					<b>replaceParameters</b> <b>::</b> string &#8594; ...any &#8594; string
				</div>
				<div class="function-desc">
					
Replaces the parameters of a prepared statement
with the binded arguments to execute it with. This
is for display purposes only and does not escape the
arguments.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.makeWrapper">
				<div class="function-name">
					<b>makeWrapper</b> <b>::</b> string &#8594; Media &#8594; (IStatement &#8594; IStatement)
				</div>
				<div class="function-desc">
					
Returns a function that will wrap a prepared
statement to write to the provided media, with
the provided query.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.makeStmt">
				<div class="function-name">
					<b>makeStmt</b> <b>::</b> IStatement &#8594; IStatement
				</div>
				<div class="function-desc">
					Writes the query, with parameters substituted
for arguments, to the media, then executes underlying
statement.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.ConsoleMedia">
				<div class="function-name">
					<b>ConsoleMedia</b> <b>::</b> () &#8594; Media
				</div>
				<div class="function-desc">
					
Medium that writes to the console.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.ListMedia">
				<div class="function-name">
					<b>ListMedia</b> <b>::</b> () &#8594; Media
				</div>
				<div class="function-desc">
					
Medium that writes to a list
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.FileMedia">
				<div class="function-name">
					<b>FileMedia</b> <b>::</b> string &#8594; Media
				</div>
				<div class="function-desc">
					
Medium that writes to a file
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.MultiMedia">
				<div class="function-name">
					<b>MultiMedia</b> <b>::</b> [Media] &#8594; Media
				</div>
				<div class="function-desc">
					
Medium that writes to underlying media
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.makeLogger">
				<div class="function-name">
					<b>makeLogger</b> <b>::</b> Media &#8594; (IDBH &#8594; IDBH)
				</div>
				<div class="function-desc">
					
Returns a function that will wrap a provided
connection in a logger that writes to the provided
media.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.log">
				<div class="function-name">
					<b>log</b> <b>::</b> IDBH &#8594; IDBH
				</div>
				<div class="function-desc">
					Creates an IDBH that writes to the closed
over media.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.LogDBH.func.nolog">
				<div class="function-name">
					<b>nolog</b> <b>::</b> IDBH &#8594; IDBH
				</div>
				<div class="function-desc">
					
The identity function by another name.
				</div>
			</div>
		
			</div>
		</div>
	
		<div class="module-description" id="doc.module.Transactional.PooledDBH">
			<div class="module-name">
				Module: Transactional.PooledDBH
			</div>
			<div class="module-author">
			<b>Written By:</b> Joel Dentici
			</div>
			<div class="module-date">
			<b>Written On:</b> 6/20/2017
			</div>
			<div class="module-desc">
			Wraps an underlying dbh that is pooled
so closing it returns it to the connection
pool.<br><br>Attempting to use the pooled connection after
it is closed will cause each method to return
an error.
			</div>
			<div class="module-functions">
				
			<div class="function-description"
			id="doc.module.Transactional.PooledDBH.func.new">
				<div class="function-name">
					<b>new</b> <b>::</b> IDBH &#8594; PooledDBH
				</div>
				<div class="function-desc">
					
Constructs a Pooled DBH connection from
an underlying dbh.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.PooledDBH.func.beginTransaction">
				<div class="function-name">
					<b>beginTransaction</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Begins a transaction on the base IDBH.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.PooledDBH.func.commit">
				<div class="function-name">
					<b>commit</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Commits the transaction on the base IDBH
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.PooledDBH.func.rollback">
				<div class="function-name">
					<b>rollback</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Rolls back the transaction on the base IDBH
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.PooledDBH.func.prepare">
				<div class="function-name">
					<b>prepare</b> <b>::</b> IDBH &#8594; String &#8594; Promise IStatement ([Object] | int | ())
				</div>
				<div class="function-desc">
					
Prepares a statement on the base IDBH.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.PooledDBH.func.status$">
				<div class="function-name">
					<b>status$</b> <b>::</b> IDBH &#8594; Observable DBStatus DBFatalError
				</div>
				<div class="function-desc">
					
Returns a stream of status events for both the pooled
connection and underlying IDBH.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.PooledDBH.func.connect">
				<div class="function-name">
					<b>connect</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Connects the base IDBH.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.PooledDBH.func.close">
				<div class="function-name">
					<b>close</b> <b>::</b> IDBH &#8594; ()
				</div>
				<div class="function-desc">
					
Closes the pooled connection. This will cause
the underlying IDBH to be returned to its pool.
				</div>
			</div>
		
			</div>
		</div>
	
		<div class="module-description" id="doc.module.Transactional.RecordMapper">
			<div class="module-name">
				Module: Transactional.RecordMapper
			</div>
			<div class="module-author">
			<b>Written By:</b> Joel Dentici
			</div>
			<div class="module-date">
			<b>Written On:</b> 6/20/2017
			</div>
			<div class="module-desc">
			Extends the IDBH interface to include record mapping.
			</div>
			<div class="module-functions">
				
			<div class="function-description"
			id="doc.module.Transactional.RecordMapper.func.new">
				<div class="function-name">
					<b>new</b> <b>::</b> IDBH &#8594; RecordMapper
				</div>
				<div class="function-desc">
					
Extends the underlying IDBH with additional functionality.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.RecordMapper.func.insert">
				<div class="function-name">
					<b>insert</b> <b>::</b> RecordMapper &#8594; string &#8594; Map string any &#8594; Promise int DBError
				</div>
				<div class="function-desc">
					
Inserts a record into a
table. Returns a promise
with the result of the insertion.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.RecordMapper.func.update">
				<div class="function-name">
					<b>update</b> <b>::</b> RecordMapper &#8594; string &#8594; Map string any &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Updates the record in the table.
Returns a promise with the result
of the update.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.RecordMapper.func.delete">
				<div class="function-name">
					<b>delete</b> <b>::</b> RecordMapper &#8594; string &#8594; (Map string any) | int &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Deletes the record from the table.
Returns a promise for the result
of the deletion.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.RecordMapper.func.read">
				<div class="function-name">
					<b>read</b> <b>::</b> RecordMapper &#8594; String &#8594; int &#8594; Promise (Maybe (Map string any)) DBError
				</div>
				<div class="function-desc">
					
Reads a record from the table.
Returns a promise for the row
read from the table.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.RecordMapper.func.query">
				<div class="function-name">
					<b>query</b> <b>::</b> RecordMapper &#8594; string &#8594; ...any &#8594; Promise ([Object] | int | ()) DBError
				</div>
				<div class="function-desc">
					Runs a sql query on the database,
preparing a statement, bindings
the bindings to placeholders,
and executing it. Returns a promise
for the result.<br><br>Useful when you only want to execute
a statement once.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.RecordMapper.func.beginTransaction">
				<div class="function-name">
					<b>beginTransaction</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Begins a transaction on the base IDBH.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.RecordMapper.func.commit">
				<div class="function-name">
					<b>commit</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Commits the transaction on the base IDBH
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.RecordMapper.func.rollback">
				<div class="function-name">
					<b>rollback</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Rolls back the transaction on the base IDBH
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.RecordMapper.func.prepare">
				<div class="function-name">
					<b>prepare</b> <b>::</b> IDBH &#8594; String &#8594; Promise IStatement ([Object] | int | ())
				</div>
				<div class="function-desc">
					
Prepares a statement on the base IDBH.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.RecordMapper.func.status$">
				<div class="function-name">
					<b>status$</b> <b>::</b> IDBH &#8594; Observable DBStatus DBFatalError
				</div>
				<div class="function-desc">
					
Returns a stream of status events from the base IDBH.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.RecordMapper.func.connect">
				<div class="function-name">
					<b>connect</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Connects the base IDBH.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.RecordMapper.func.close">
				<div class="function-name">
					<b>close</b> <b>::</b> IDBH &#8594; ()
				</div>
				<div class="function-desc">
					
Closes the base connection.
				</div>
			</div>
		
			</div>
		</div>
	
		<div class="module-description" id="doc.module.Transactional.Transaction">
			<div class="module-name">
				Module: Transactional.Transaction
			</div>
			<div class="module-author">
			<b>Written By:</b> Joel Dentici
			</div>
			<div class="module-date">
			<b>Written On:</b> 6/20/2017
			</div>
			<div class="module-desc">
			Provides a DSL to compose and execute database
transactions. This comes in the form of a Free monad
over a (rather large) functor defined below, along with
an interpreter that translates monadic values into calls
in the library.<br><br>This is the preferred way to use this library and produces
much cleaner code than directly using the library functions
to interact with your database.
			</div>
			<div class="module-functions">
				
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.query">
				<div class="function-name">
					<b>query</b> <b>::</b> string &#8594; ...any &#8594; Transaction ([Object] | int | ())
				</div>
				<div class="function-desc">
					
Execute a query on the database.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.insert">
				<div class="function-name">
					<b>insert</b> <b>::</b> string &#8594; Map string any &#8594; Transaction int
				</div>
				<div class="function-desc">
					
Insert a row into a table.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.update">
				<div class="function-name">
					<b>update</b> <b>::</b> string &#8594; Map string any &#8594; Transaction ()
				</div>
				<div class="function-desc">
					
Update a row in a table.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.delete">
				<div class="function-name">
					<b>delete</b> <b>::</b> string &#8594; Map string any | int &#8594; Transaction ()
				</div>
				<div class="function-desc">
					
Delete a row in a table.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.read">
				<div class="function-name">
					<b>read</b> <b>::</b> string &#8594; int &#8594; Transaction (Maybe (Map string any))
				</div>
				<div class="function-desc">
					
Read a row from a table.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.prepare">
				<div class="function-name">
					<b>prepare</b> <b>::</b> string &#8594; Transaction IStatement
				</div>
				<div class="function-desc">
					
Prepare a statement for execution on the database.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.execute">
				<div class="function-name">
					<b>execute</b> <b>::</b> IStatement &#8594; ...any &#8594; Transaction ([Object] | int | ())
				</div>
				<div class="function-desc">
					
Execute a prepared statement on the database.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.throwE">
				<div class="function-name">
					<b>throwE</b> <b>::</b> Error &#8594; Transaction ()
				</div>
				<div class="function-desc">
					
Raise an error with the transaction. This will
cause a rollback to happen.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.emit">
				<div class="function-name">
					<b>emit</b> <b>::</b> string &#8594; Object &#8594; Transaction ()
				</div>
				<div class="function-desc">
					
Emit an event. This is used to signal that an
event occurred while executing the transaction. The
interpreter will automatically publish these events
to a provided event bus.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.liftPromise">
				<div class="function-name">
					<b>liftPromise</b> <b>::</b> Promise a () &#8594; Transaction a
				</div>
				<div class="function-desc">
					
Causes the transaction execution to suspend until
the promise is fulfilled. The value returned by the
transaction is the same as that returned by the promise.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.skip">
				<div class="function-name">
					<b>skip</b> <b>::</b> () &#8594; Transaction ()
				</div>
				<div class="function-desc">
					
Causes any further statements in the transaction to
be skipped.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.continue">
				<div class="function-name">
					<b>continue</b> <b>::</b> Transaction a &#8594; Transaction a
				</div>
				<div class="function-desc">
					
Marks a continuation point and then executes the
provided transaction. When the provided transaction
finishes executing, control is returned to the continuation
point with the result of that transaction.<br><br>NOTE: This is not nested transactions. As far as the database
is concerned, there is only a single transaction occurring. Most
database engines don't even support nested transactions. This is
strictly for control flow management.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.unit">
				<div class="function-name">
					<b>unit</b> <b>::</b> a &#8594; Transaction a
				</div>
				<div class="function-desc">
					
Lift a normal value into the Transaction context.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.show">
				<div class="function-name">
					<b>show</b> <b>::</b> Transaction a &#8594; IRetrieve &#8594; String
				</div>
				<div class="function-desc">
					
Returns a string representation of the
transaction.<br><br>The optional IRetrieve object provides methods
to mock retrieval of data. This allows testing
basic logic, by returning different data for
different queries. The object must provide methods
for:
insert: Gets insertId for (table,record)
query: Gets [Record] for (sql,bindings)
read: Gets (Maybe Record) for (table, id)
execute: Gets [Record] for (stmt#, bindings)
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.interpret">
				<div class="function-name">
					<b>interpret</b> <b>::</b> IDBH &#8594; Transaction a &#8594; [Object] &#8594; Promise a DBError
				</div>
				<div class="function-desc">
					
Interprets a transaction into a promise, running each statement
on the provided connection. Events that are emitted by the transaction
are stored in the provided list.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.runTransaction">
				<div class="function-name">
					<b>runTransaction</b> <b>::</b> IDBH &#8594; IBus &#8594; Transaction a &#8594; Promise a DBError
				</div>
				<div class="function-desc">
					
Runs a transaction with the provided connection.<br><br>If the transaction completes successfully, we publish the events
that it emits to the provided event bus.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.runWith">
				<div class="function-name">
					<b>runWith</b> <b>::</b> DBHManager &#8594; IBus &#8594; Transaction a &#8594; Promise a DBError
				</div>
				<div class="function-desc">
					
Runs a transaction using a provided database handle manager. A connection
is retrieved from the manager, the transaction is ran on it,
and the connection is closed (returned to connection pool).
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.Transaction.func.maybeSkip">
				<div class="function-name">
					<b>maybeSkip</b> <b>::</b> Transaction (Maybe a) &#8594; Transaction a
				</div>
				<div class="function-desc">
					
Controls the execution of the transaction. If the provided
value does not exist, then we skip the rest of the transaction.<br><br>By calling Transaction.continue on a transaction that may skip,
we can continue execution from that point.
				</div>
			</div>
		
			</div>
		</div>
	
		<div class="module-description" id="doc.module.Transactional">
			<div class="module-name">
				Module: Transactional
			</div>
			<div class="module-author">
			<b>Written By:</b> Joel Dentici
			</div>
			<div class="module-date">
			<b>Written On:</b> 6/20/2017
			</div>
			<div class="module-desc">
			The transactional library provides a mechanism for
performing database transactions on an RDBMS from
a node.js application.<br><br>This library only implements a driver for MySQL right
now, but other drivers can be registered by calling
the register function. Drivers are responsible for adapting
to the interface used by this library.
			</div>
			<div class="module-functions">
				
			<div class="function-description"
			id="doc.module.Transactional.func.drivers">
				<div class="function-name">
					<b>drivers</b> <b>::</b> Map String (int &#8594; Object &#8594; DriverFuncs)
				</div>
				<div class="function-desc">
					
Store references to driver creation functions
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.func.register">
				<div class="function-name">
					<b>register</b> <b>::</b> String &#8594; (int &#8594; Object &#8594; DriverFuncs) &#8594; ()
				</div>
				<div class="function-desc">
					
Registers a database driver to be used to create
a database manager at a later time.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.func.create">
				<div class="function-name">
					<b>create</b> <b>::</b> String &#8594; int &#8594; Object &#8594; (IDBH &#8594; IDBH) &#8594; DBHManager
				</div>
				<div class="function-desc">
					
Uses the registered database driver creation function
to create a database manager. An optional logger can be specified.
				</div>
			</div>
		
			</div>
		</div>
	
		<div class="module-description" id="doc.module.Transactional.IBus">
			<div class="module-name">
				Module: Transactional.IBus
			</div>
			<div class="module-author">
			<b>Written By:</b> Joel Dentici
			</div>
			<div class="module-date">
			<b>Written On:</b> 6/20/2017
			</div>
			<div class="module-desc">
			An interface for publishing to an Event Bus.
			</div>
			<div class="module-functions">
				
			<div class="function-description"
			id="doc.module.Transactional.IBus.func.publish">
				<div class="function-name">
					<b>publish</b> <b>::</b> IBus &#8594; String &#8594; Object &#8594; ()
				</div>
				<div class="function-desc">
					
Publishes an event of the given type with the
given data to the bus. Returns immediately.
				</div>
			</div>
		
			</div>
		</div>
	
		<div class="module-description" id="doc.module.Transactional.IDBH">
			<div class="module-name">
				Module: Transactional.IDBH
			</div>
			<div class="module-author">
			<b>Written By:</b> Joel Dentici
			</div>
			<div class="module-date">
			<b>Written On:</b> 6/20/2017
			</div>
			<div class="module-desc">
			An interface to a database handle for
a relational database.
			</div>
			<div class="module-functions">
				
			<div class="function-description"
			id="doc.module.Transactional.IDBH.func.beginTransaction">
				<div class="function-name">
					<b>beginTransaction</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Begins a transaction. Returns a promise
for the result of beginning the transaction.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.IDBH.func.commit">
				<div class="function-name">
					<b>commit</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Commits the transaction. Returns a promise
for the result.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.IDBH.func.rollback">
				<div class="function-name">
					<b>rollback</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Rolls back the transaction. Returns a promise
for when rollingback finishes.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.IDBH.func.prepare">
				<div class="function-name">
					<b>prepare</b> <b>::</b> IDBH &#8594; String &#8594; Promise IStatement ([Object] | int | ())
				</div>
				<div class="function-desc">
					
Prepares a statement to run on
the database. Returns a promise
for a statement handle. The statement
must be disposed of when the connection
is closed.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.IDBH.func.status$">
				<div class="function-name">
					<b>status$</b> <b>::</b> IDBH &#8594; Observable DBStatus DBFatalError
				</div>
				<div class="function-desc">
					
Returns a stream of status events.<br><br>The only required functionality is that when the connection
is closed (in any possible way), the stream returned by this
method is ended.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.IDBH.func.connect">
				<div class="function-name">
					<b>connect</b> <b>::</b> IDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Connects to the database. Returns
a promise for the result of the
connection.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.IDBH.func.close">
				<div class="function-name">
					<b>close</b> <b>::</b> IDBH &#8594; ()
				</div>
				<div class="function-desc">
					
Closes the database connection.
				</div>
			</div>
		
			</div>
		</div>
	
		<div class="module-description" id="doc.module.Transactional.IStatement">
			<div class="module-name">
				Module: Transactional.IStatement
			</div>
			<div class="module-author">
			<b>Written By:</b> Joel Dentici
			</div>
			<div class="module-date">
			<b>Written On:</b> 6/20/2017
			</div>
			<div class="module-desc">
			An interface to a statement handle for
a relational database.
			</div>
			<div class="module-functions">
				
			<div class="function-description"
			id="doc.module.Transactional.IStatement.func.execute">
				<div class="function-name">
					<b>execute</b> <b>::</b> IStatement ([Object] | int | ()) &#8594; ...any &#8594; Promise ([Object] | int | ()) DBError
				</div>
				<div class="function-desc">
					
Executes the prepared statement
with the provided placeholder
bindings. Returns a promise
with the result of the query.<br><br>The result type will depend on the type of statement
that is executed. If it is a Select Query, then a list
of objects, representing the rows selected is returned. If
it is an Insert Statement, then the ID of the new row is
returned. If it is any other kind of statement, then nothing
is returned.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.IStatement.func.destroy">
				<div class="function-name">
					<b>destroy</b> <b>::</b> IStatement ([Object] | int | ()) &#8594; ()
				</div>
				<div class="function-desc">
					
Cleans up underlying resources
associated with the statement
handle.
				</div>
			</div>
		
			</div>
		</div>
	
		<div class="module-description" id="doc.module.Transactional.MySQLDBH">
			<div class="module-name">
				Module: Transactional.MySQLDBH
			</div>
			<div class="module-author">
			<b>Written By:</b> Joel Dentici
			</div>
			<div class="module-date">
			<b>Written On:</b> 6/20/2017
			</div>
			<div class="module-desc">
			Adapts node-mysql to use the IDBH interface.
			</div>
			<div class="module-functions">
				
			<div class="function-description"
			id="doc.module.Transactional.MySQLDBH.func.new">
				<div class="function-name">
					<b>new</b> <b>::</b> NodeMySQLConnection &#8594; MySQLDBH
				</div>
				<div class="function-desc">
					
Wrap the connection
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.MySQLDBH.func.beginTransaction">
				<div class="function-name">
					<b>beginTransaction</b> <b>::</b> MySQLDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Begins a transaction. Returns a promise
for the result of beginning the transaction.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.MySQLDBH.func.commit">
				<div class="function-name">
					<b>commit</b> <b>::</b> MySQLDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Commits the transaction. Returns a promise
for the result.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.MySQLDBH.func.rollback">
				<div class="function-name">
					<b>rollback</b> <b>::</b> MySQLDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Rolls back the transaction. Returns a promise
for when rollingback finishes.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.MySQLDBH.func.prepare">
				<div class="function-name">
					<b>prepare</b> <b>::</b> MySQLDBH &#8594; String &#8594; Promise IStatement ([Object] | int | ())
				</div>
				<div class="function-desc">
					
Prepares a statement to run on
the database. Returns a promise
for a statement handle.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.MySQLDBH.func.status$">
				<div class="function-name">
					<b>status$</b> <b>::</b> MySQLDBH &#8594; Observable DBStatus DBFatalError
				</div>
				<div class="function-desc">
					
Returns a stream of status events.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.MySQLDBH.func.connect">
				<div class="function-name">
					<b>connect</b> <b>::</b> MySQLDBH &#8594; Promise () DBError
				</div>
				<div class="function-desc">
					
Connects to the database. Returns
a promise for the result of the
connection.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.MySQLDBH.func.close">
				<div class="function-name">
					<b>close</b> <b>::</b> MySQLDBH &#8594; ()
				</div>
				<div class="function-desc">
					
Closes the database connection.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.MySQLDBH.func.createManager">
				<div class="function-name">
					<b>createManager</b> <b>::</b> int &#8594; node-mysqlOptions &#8594; DriverFuncs
				</div>
				<div class="function-desc">
					
Returns functions to manage a pool of MySQLDBH connections.
				</div>
			</div>
		
			</div>
		</div>
	
		<div class="module-description" id="doc.module.Transactional.MySQLStatement">
			<div class="module-name">
				Module: Transactional.MySQLStatement
			</div>
			<div class="module-author">
			<b>Written By:</b> Joel Dentici
			</div>
			<div class="module-date">
			<b>Written On:</b> 6/20/2017
			</div>
			<div class="module-desc">
			A "prepared" statement for node-mysql.
			</div>
			<div class="module-functions">
				
			<div class="function-description"
			id="doc.module.Transactional.MySQLStatement.func.mapper">
				<div class="function-name">
					<b>mapper</b> <b>::</b> Map string (DBResult &#8594; [Object] | int | ())
				</div>
				<div class="function-desc">
					
Maps the result of a query to the correct
type per the IDBH contract.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.MySQLStatement.func.new">
				<div class="function-name">
					<b>new</b> <b>::</b> NodeMySQLConnection &#8594; string &#8594; MySQLStatement ([Object] | int | ())
				</div>
				<div class="function-desc">
					
Construct a new MySQLStatement.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.MySQLStatement.func.execute">
				<div class="function-name">
					<b>execute</b> <b>::</b> MySQLStatement ([Object] | int | ()) &#8594; ...any &#8594; Promise ([Object] | int | ()) DBError
				</div>
				<div class="function-desc">
					
Executes the prepared statement
with the provided placeholder
bindings. Returns a promise
with the result of the query.
				</div>
			</div>
		
			<div class="function-description"
			id="doc.module.Transactional.MySQLStatement.func.destroy">
				<div class="function-name">
					<b>destroy</b> <b>::</b> IStatement ([Object] | int | ()) &#8594; ()
				</div>
				<div class="function-desc">
					
Cleans up underlying resources
associated with the statement
handle.
				</div>
			</div>
		
			</div>
		</div>
	
			</div>

			<div class="top-scroll">
					<a href="#top">&#8593;</a>
			</div>

			<div class="footer">
			This documentation was generated by <code>hmdoc</code> on <code>6/21/2017, 3:59:29 PM</code>
			</div>
		</body>
	</html>
	
